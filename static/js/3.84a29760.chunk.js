(this.webpackJsonpburger=this.webpackJsonpburger||[]).push([[3],{102:function(t,e,n){t.exports={Auth:"Auth_Auth__1Zul_",Input:"Auth_Input__2LQ-q"}},104:function(t,e,n){"use strict";n.r(e);var a=n(2),i=n(4),r=n(5),o=n(7),u=n(6),s=n(8),l=n(0),c=n.n(l),h=n(10),d=n(23),p=n(55),f=n(22),g=n(102),m=n.n(g),v=n(16),b=n(18),S=n(56),y=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your Email"},value:"",validation:{required:!0,isEmail:!0},touched:!1,valid:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Your Password"},value:"",validation:{required:!0,minLength:6},touched:!1,valid:!1}},isSignUp:!0},n.setTouched=function(t){n.setState((function(e){var n=Object(a.a)({},e.controls);return n[t].touched=!0,{controls:n}}))},n.inputChangeHandler=function(t,e){var i=t.target.value;n.setState((function(t){var n=Object(a.a)({},t.controls);n[e].valid=Object(S.a)(i,n[e].validation),n[e].touched=!0,n[e].value=i;var r=!0;for(var o in n)r=n[o].valid&&r;return{controls:n,formIsValid:r}}))},n.authHandler=function(t){t.preventDefault();var e={};for(var a in n.state.controls)e[a]=n.state.controls[a].value;n.props.onAuth(e.email,e.password,n.state.isSignUp)},n.switchAuthModHandler=function(){n.setState((function(t){return{isSignUp:!t.isSignUp}}))},n}return Object(s.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){!this.props.building&&this.props.authRedirect&&this.props.onAuthRedirect()}},{key:"render",value:function(){var t,e,n=this,a=null;if(this.props.isAuth)t=c.a.createElement(d.a,{to:this.props.authRedirect});else{var i=[];for(var r in this.state.controls)i.push({id:r,config:this.state.controls[r]});e=c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:this.authHandler},i.map((function(t){return c.a.createElement(p.a,{key:t.id,invalid:!t.config.valid,elementType:t.config.elementType,value:t.config.value,shouldValidate:!!t.config.validation,touched:t.config.touched,setTouched:function(){return n.setTouched(t.id)},change:function(e){return n.inputChangeHandler(e,t.id)},elementConfig:t.config.elementConfig})})),c.a.createElement(f.a,{btnType:this.state.formIsValid?"Success":"Danger",disabled:!this.state.formIsValid},this.state.isSignUp?"Sign Up":"Sign In")),c.a.createElement(f.a,{btnType:this.state.formIsValid?"Success":"Danger",clicked:this.switchAuthModHandler},"Switch to ",this.state.isSignUp?"Sign In":"Sign Up")),this.props.loading&&(e=c.a.createElement(b.a,null)),this.props.error&&(a=c.a.createElement("p",{style:{color:"red"}},this.props.error.message))}return c.a.createElement("div",{className:m.a.Auth},a,e,t)}}]),e}(l.Component);e.default=Object(h.b)((function(t){return{loading:t.auth.loading,error:t.auth.error,isAuth:!!t.auth.token,authRedirect:t.auth.authRedirect,building:t.ingredient.building}}),(function(t){return{onAuth:function(e,n,a){return t(v.b(e,n,a))},onAuthRedirect:function(){return t(v.j("/"))}}}))(y)}}]);
//# sourceMappingURL=3.84a29760.chunk.js.map